#! /usr/bin/env python3 
code = bytearray([
    0xa9, 0xff,       #lda 0xff
    0x8d, 0x03, 0x60, #sta 0x6003 (DDRA)
                      
    0xa9, 0x55,       #lda 0x55
    0x8d, 0x01, 0x60, #sta 0x6001 (output reg A)
                      
    0xa9, 0xAA,       #lda 0xAA
    0x8d, 0x01, 0x60,  #sta 0x6001 (output reg A)
                      
    0x4c, 0x05, 0x80  #jmp to 0x8005 (skip init)
])

rom = code + bytearray([0xea] * (32768-len(code)))


rom[0x7ffc] = 0x00
rom[0x7ffd] = 0x80

with open("rom.bin", "wb") as out_file:
    out_file.write(rom)
